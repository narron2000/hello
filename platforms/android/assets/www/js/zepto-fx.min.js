(function(t,i){var n="",e,a={Webkit:"webkit",Moz:"",O:"o"},s=document.createElement("div"),o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,f,r,u,c,l,d,m,p,h,y={};function x(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function b(t){return e?e+t:t.toLowerCase()}t.each(a,function(t,a){if(s.style[t+"TransitionProperty"]!==i){n="-"+t.toLowerCase()+"-";e=a;return false}});f=n+"transform";y[r=n+"transition-property"]=y[u=n+"transition-duration"]=y[l=n+"transition-delay"]=y[c=n+"transition-timing-function"]=y[d=n+"animation-name"]=y[m=n+"animation-duration"]=y[h=n+"animation-delay"]=y[p=n+"animation-timing-function"]="";t.fx={off:e===i&&s.style.transitionProperty===i,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:b("TransitionEnd"),animationEnd:b("AnimationEnd")};t.fn.animate=function(n,e,a,s,o){if(t.isFunction(e))s=e,a=i,e=i;if(t.isFunction(a))s=a,a=i;if(t.isPlainObject(e))a=e.easing,s=e.complete,o=e.delay,e=e.duration;if(e)e=(typeof e=="number"?e:t.fx.speeds[e]||t.fx.speeds._default)/1e3;if(o)o=parseFloat(o)/1e3;return this.anim(n,e,a,s,o)};t.fn.anim=function(n,e,a,s,b){var g,E={},w,T="",v=this,L,P=t.fx.transitionEnd,j=false;if(e===i)e=t.fx.speeds._default/1e3;if(b===i)b=0;if(t.fx.off)e=0;if(typeof n=="string"){E[d]=n;E[m]=e+"s";E[h]=b+"s";E[p]=a||"linear";P=t.fx.animationEnd}else{w=[];for(g in n)if(o.test(g))T+=g+"("+n[g]+") ";else E[g]=n[g],w.push(x(g));if(T)E[f]=T,w.push(f);if(e>0&&typeof n==="object"){E[r]=w.join(", ");E[u]=e+"s";E[l]=b+"s";E[c]=a||"linear"}}L=function(i){if(typeof i!=="undefined"){if(i.target!==i.currentTarget)return;t(i.target).unbind(P,L)}else t(this).unbind(P,L);j=true;t(this).css(y);s&&s.call(this)};if(e>0){this.bind(P,L);setTimeout(function(){if(j)return;L.call(v)},(e+b)*1e3+25)}this.size()&&this.get(0).clientLeft;this.css(E);if(e<=0)setTimeout(function(){v.each(function(){L.call(this)})},0);return this};s=null})(Zepto);